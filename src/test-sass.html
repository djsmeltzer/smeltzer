<!DOCTYPE html>
<html lang='en'>
<head>
    <title>Learning SASS</title>
    <meta charset='utf8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" media="all" href="css/site.css">
</head>
<body>
    <header>
        <h1>Learning SASS</h1>
    </header>
    <section>
        <p>I need to learn SASS to keep up. So far I am a fan of Less, so 
        I know the benefits of such a language. It is more a matter of 
        syntax at the moment.</p>
        <ul>
            <li>Variables are good</li>
            <li>Nesting is awesome!</li>
            <li>Includes hold potential I have not yet tapped</li>
        </ul>
    </section>
    <div class="container">
        <h3>Context menu test</h3>
        <a href="" class="btn btn-primary touchme">Touch this</a>
    </div>

    <div class="container">
        <div class="article">
            <h1>This is a title</h1>
            <p>This is some text to consider</p>
        </div>
    </div>
<div class="card-container" ontouchstart="this.classList.toggle('hover');">
    <div class="card">
        <div class="card-front">
            <h2>Card Contents</h2>
            <p>This is some text</p>
        </div>
        <div class="card-back">
            <p>Other stuff on here</p>
            <ul>
                <li>Additional info</li>
                <li>Fun photo</li>
                <li>Commands</li>
            </ul>
        </div>
    </div>
</div>
<div class="card-container" ontouchstart="this.classList.toggle('hover');">
    <div class="card">
        <div class="card-front">
            <h2>Card Contents</h2>
            <p>This is some text</p>
        </div>
        <div class="card-back">
            <p>Other stuff on here</p>
            <ul>
                <li>Additional info</li>
                <li>Fun photo</li>
                <li>Commands</li>
            </ul>
        </div>
    </div>
</div>
<script
  src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>
<script>
    // Timer for long touch detection
var timerLongTouch;
// Long touch flag for preventing "normal touch event" trigger when long touch ends
var longTouch = false;

$(".touchme")
  .on("touchstart", function(event){
      // Prevent default behavior
      event.preventDefault();
      // Test that the touch is correctly detected
    //   alert("touchstart event");
      // Timer for long touch detection
      timerLongTouch = setTimeout(function() {
          // Flag for preventing "normal touch event" trigger when touch ends. 
          longTouch = true;
          // Test long touch detection (remove previous alert to test it correctly)
          alert("long mousedown");
      }, 1000);
  })
  .on("touchmove", function(event){
      // Prevent default behavior
      event.preventDefault();
      // If timerLongTouch is still running, then this is not a long touch 
      // (there is a move) so stop the timer
      clearTimeout(timerLongTouch);

      if(longTouch){
          longTouch = false;
          // Do here stuff linked to longTouch move
      } else {
          // Do here stuff linked to "normal" touch move
      }
  })
  .on("touchend", function(){
      // Prevent default behavior
      event.preventDefault();
      // If timerLongTouch is still running, then this is not a long touch
      // so stop the timer
      clearTimeout(timerLongTouch);

      if(longTouch){
          longTouch = false;
          // Do here stuff linked to long touch end 
          // (if different from stuff done on long touch detection)
      } else {
          // Do here stuff linked to "normal" touch move
      }
  });
</script>
</body>
</html>